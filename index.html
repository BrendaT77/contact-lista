<!doctype html>
<html>
<head>
	<script>
	let count=0;
 
	/**
	 * función para agregar valores a la tabla
	 */
	function agregarValores(){
		// cogemos los valores del formulario
		let nombre=document.getElementById("nombre").value;
		let apellidos=document.getElementById("apellidos").value;
		
 
		// La variable cont, genera un id unico para cada contacto
		// Este id es el utilizado para eliminar-lo
		count++;
 
		if(nombre.length>0 || apellidos.length>0)
		{
			let tbody = document.getElementById("miTabla").getElementsByTagName("TBODY")[0];
 
			let attrId = document.createAttribute('id');
			attrId.value=count;
 
			let td1 = document.createElement("TD");
			td1.appendChild(document.createTextNode(nombre));
			let td2 = document.createElement("TD");
			td2.appendChild(document.createTextNode(apellidos));
			let td3 = document.createElement("TD");
			
			td4.appendChild(crearButton(count));
 
			let row = document.createElement("TR");
			row.setAttributeNode(attrId);
			row.appendChild(td1);
			row.appendChild(td2);
			row.appendChild(td3);
			row.appendChild(td4);
			tbody.appendChild(row);
		}
		
	 
 
		// Eliminamos los valores del formulario
		document.getElementById("nombre").value="";
		document.getElementById("apellidos").value="";
		
		
		
        {
			let tbody = document.getElementById("miTabla").getElementsByTagName("TBODY")[0];
 
			let attrId = document.createAttribute('id');
			attrId.value=count;
 
			let td1 = document.createElement("TD");
			td1.appendChild(document.createTextNode(nombre));
			let td2 = document.createElement("TD");
			td2.appendChild(document.createTextNode(apellidos));
			let td3 = document.createElement("TD");
			
			td4.appendChild(crearButton(count));
 
			let row = document.createElement("TR");
			row.setAttributeNode(attrId);
			row.appendChild(td1);
			row.appendChild(td2);
			row.appendChild(td3);
			row.appendChild(td4);
			tbody.appendChild(row);
		}
 
		// Eliminamos los valores del formulario
		document.getElementById("nombre").value="Celeste";
		document.getElementById("apellidos").value="Aguilar";
		
	}
    

 
	/**
	 * Función para eliminar un valor de la tabla
	 */
	function eliminarValor(id)
	{
		var row = document.getElementById(id);
		row.parentNode.removeChild(row);
	}
 
	/**
	 * Función que crea el boton de eliminar
	 * Tiene que recibie el id a eliminar
	 */
	function crearButton(id)
	{
		let button=document.createElement("input");
		let attrType=document.createAttribute('type');
		attrType.value="button";
		let attrValue=document.createAttribute('value');
		attrValue.value="Eliminar";
		let attrOnclick=document.createAttribute('onclick');
		attrOnclick.value="eliminarValor("+count+");";
 
		button.setAttributeNode(attrType);
		button.setAttributeNode(attrValue);
		button.setAttributeNode(attrOnclick);
 
		return button;
	}
	</script>
 
	<style>
	#miTabla {border:1px solid #ddd;padding: 10px;}
	#miTabla thead tr td {font-weight:bold;padding:10px;}
	#miTabla tbody tr:nth-child(odd) {background-color:#f8f8f8;}
	#miTabla tr {}
	#miTabla td {padding:5px;}
 
	form {width:300px;text-align:center;}
	form label {display:inline-block;width:100px;text-align:right;}
	</style>
</head>
 
<body>
	<H2>
		<p>Lista de Contactos</p>
		
	</H2>
	<h3><p>Nombres  y  Apellidos</p></h3>

	<p> Lourdes  Aguilar <input type="button" onclick="agregarValores();" value="Eliminar" </p> 
	<p> Andres   Salgado <input type="button" onclick="agregarValores();" value="Eliminar"</p>
	<p>Margarita  Lopez <input type="button" onclick="agregarValores();" value="Eliminar"</p>
	<p>Jaquelin  Perez <input type="button" onclick="agregarValores();" value="Eliminar"</p>
	
 
<table id="miTabla">
	<thead>
		<tr>
			<td>Nombre</td>
			<td>Apellidos</td>

		</tr>
	</thead>
	<tbody>
	</tbody>
</table>
 
<p>
	<form>
		<label>Nombre:</label> <input type="text" id="nombre">
		<label>Apellidos:</label> <input type="text" id="apellidos">
	
		<p>
			<input type="button" onclick="agregarValores();" value="Agregar">
			<input type="button" onclick="agregarValores();" value="Eliminar">
		</p>
	</form>
</p>
 
</body>
</html>
